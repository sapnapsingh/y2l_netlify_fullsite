
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Y2L Summer Program Enrollment</title>
<style>
    html, body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      max-width: 100vw;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9fbff;
      color: #333;
    }

    .container {
      width: 100%;
      max-width: 1100px;
      margin: auto;
      padding: 40px 20px;
    }

    h1, h2 {
      color: #2a7ae2;
    }

    .section {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      margin-bottom: 40px;
    }

    label {
      font-weight: 600;
      display: block;
      margin: 10px 0 6px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 15px;
    }

    .program-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .program-table th, .program-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
      vertical-align: top;
    }

    .program-table th {
      background-color: #f0f6ff;
      color: #333;
    }

    .form-footer {
      margin-top: 30px;
    }

    .btn-submit {
      background-color: #2a7ae2;
      color: #fff;
      padding: 14px 28px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    .btn-submit:hover {
      background-color: #195bb1;
    }

    .fee-summary {
      background: #e9f3ff;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 16px;
    }

    .fee-summary p {
      margin: 6px 0;
    }
  </style>
</head>
<body>
<div class="container">
<div class="section">
<h1>Y2L Summer 2025 Enrollment Form</h1>
<form id="signupForm" onsubmit="event.preventDefault(); submitToGoogleSheet();">
<h2>Parent Information</h2>
<label>Parent Name</label>
<input name="parent_name" required=""/>
<label>Email</label>
<input name="email" required="" type="email"/>
<label>Phone</label>
<input name="phone" required=""/>
<h2>Student Information</h2>
<label>Student 1 Name</label>
<input name="student_name_1" required=""/>
<label>Grade</label>
<input name="grade_1" required=""/>
<label>School</label>
<input name="school_1" required=""/>
<label><input id="enable_student2" onclick="toggleStudent2()" type="checkbox"/> Add Sibling</label>
<div id="student2Fields" style="display: none;">
<label>Student 2 Name</label>
<input name="student_name_2"/>
<label>Grade</label>
<input name="grade_2"/>
<label>School</label>
<input name="school_2"/>
</div>
<h2>Program Selection by Week</h2>
<table class="program-table">
<thead>
<tr>
<th>Week</th>
<th>Dates</th>
<th>Student 1</th>
<th>Student 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Week 1</td>
<td>June 9 – 13</td>
<td>
<label><input name="S1 - Week 1 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 1 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input name="S1 - Week 1 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 1 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 1 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 1 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
</tr>
<tr>
<td>Week 2</td>
<td>June 16 – 20</td>
<td>
<label><input name="S1 - Week 2 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 2 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input name="S1 - Week 2 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 2 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 2 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 2 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
</tr>
<tr>
<td>Week 3</td>
<td>June 23 – 27</td>
<td>
<label><input name="S1 - Week 3 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 3 - Chess" type="checkbox"/> Chess (1–4)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 3 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 3 - Chess" type="checkbox"/> Chess (1–4)</label>
</td>
</tr>
<tr>
<td>Week 4</td>
<td>June 30 – July 3</td>
<td>
<label><input name="S1 - Week 4 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 4 - Chess" type="checkbox"/> Chess (1–4)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 4 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 4 - Chess" type="checkbox"/> Chess (1–4)</label>
</td>
</tr>
<tr>
<td>Week 5</td>
<td>July 7 – 11</td>
<td>
<label><input name="S1 - Week 5 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 5 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input name="S1 - Week 5 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 5 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 5 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 5 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
</tr>
<tr>
<td>Week 6</td>
<td>July 14 – 18</td>
<td>
<label><input name="S1 - Week 6 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 6 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input name="S1 - Week 6 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 6 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 6 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 6 - Python" type="checkbox"/> Python Programming (3–5)</label>
</td>
</tr>
<tr>
<td>Week 7</td>
<td>July 21 – 25</td>
<td>
<label><input name="S1 - Week 7 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 7 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input name="S1 - Week 7 - Chess" type="checkbox"/> Chess (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 7 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 7 - Creative Writing" type="checkbox"/> Creative Writing (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 7 - Chess" type="checkbox"/> Chess (3–5)</label>
</td>
</tr>
<tr>
<td>Week 8</td>
<td>July 28 – Aug 1</td>
<td>
<label><input name="S1 - Week 8 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input name="S1 - Week 8 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input name="S1 - Week 8 - Chess" type="checkbox"/> Chess (3–5)</label>
</td>
<td>
<label><input disabled="disabled" name="S2 - Week 8 - Math" type="checkbox"/> Math (10–12)</label><br/>
<label><input disabled="disabled" name="S2 - Week 8 - Public Speaking" type="checkbox"/> Public Speaking (1–3)</label><br/>
<label><input disabled="disabled" name="S2 - Week 8 - Chess" type="checkbox"/> Chess (3–5)</label>
</td>
</tr>
</tbody>
</table>
<div class="fee-summary">
<p><strong>Base Fee:</strong> $<span id="baseFee">0</span></p>
<p><strong>Discount:</strong> $<span id="discount">0</span></p>
<p><strong>Total Due:</strong> $<span id="amountDue">0</span></p>
<p id="discount-details"></p>
</div>
<div class="form-footer">
<button class="btn-submit" type="submit">Submit Enrollment</button>
</div>
</form>
</div>
</div>
<script>
    function toggleStudent2() {
      const checked = document.getElementById("enable_student2").checked;
      document.getElementById("student2Fields").style.display = checked ? "block" : "none";
      ['student_name_2','grade_2','school_2'].forEach(id => {
        const input = document.querySelector(`[name="${id}"]`);
        if (checked) input.setAttribute("required", "required");
        else { input.removeAttribute("required"); input.value = ""; }
      });
    }

    function submitToGoogleSheet() {
      const form = document.getElementById("signupForm");
      if (!form.checkValidity()) {
        alert("Please complete all required fields.");
        return;
      }

      const payload = {
        timestamp: new Date().toISOString(),
        parentName: form.parent_name.value,
        email: form.email.value,
        phone: form.phone.value,
        student_1_name: form.student_name_1.value,
        grade_1: form.grade_1.value,
        school_1: form.school_1.value,
        student_2_name: form.student_name_2.value,
        grade_2: form.grade_2.value,
        school_2: form.school_2.value,
        baseFee: document.getElementById("baseFee").textContent,
        discount: document.getElementById("discount").textContent,
        finalFee: document.getElementById("amountDue").textContent
      };

      fetch("/.netlify/functions/submit", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      })
      .then(res => {
        window.top.location.href = "https://y2lacademy.com/summer-processing-wait-screen";
        setTimeout(() => {
          window.top.location.href = "https://y2lacademy.com/summer-confirmation";
        }, 3000);
      })
      .catch(err => alert("Submission failed. Please try again later."));
    }
  </script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const student2Toggle = document.getElementById("add-student-2");
  const student2Info = document.getElementById("student2Fields");
  const student2Table = document.getElementById("student-2-table");

  function toggleStudent2State(enabled) {
    if (student2Info) student2Info.style.display = enabled ? "" : "none";
    if (student2Table) {
      student2Table.style.display = enabled ? "" : "none";
      const checkboxes = student2Table.querySelectorAll("input[type='checkbox']");
      checkboxes.forEach(cb => {
        cb.disabled = !enabled;
        if (!enabled) cb.checked = false;
      });
    }
    const inputs = student2Info?.querySelectorAll("input") || [];
    inputs.forEach(input => {
      input.disabled = !enabled;
      if (!enabled) input.value = "";
    });
  }

  toggleStudent2State(false);

  student2Toggle?.addEventListener("change", () => {
    toggleStudent2State(student2Toggle.checked);
  });
});
</script>
</body>
</html>
